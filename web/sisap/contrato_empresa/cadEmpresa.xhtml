<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <p:dialog id="dlog_cad_empresa" header="Cadastro de Empresa" widgetVar="dlg_cad_empresa" 
              closable="true" resizable="false" modal="true" width="700">
        <h:form id="form_cad_empresa">
            <h:panelGrid columns="2">
                <h:outputLabel value="CNPJ:"/>
                <p:inputMask mask="99.999.999/9999-99"  required="true" requiredMessage="Campo [CNPJ] é Obrigatório!" style="width: 200px"
                             value="#{EmpresaControlador.empresa.cnpj}"/>
                <h:outputLabel value="Razão:"/>
                <p:inputTextarea required="true" requiredMessage="Campo [Razão] é Obrigatório!" style="width: 400px; text-transform: uppercase"
                                 value="#{EmpresaControlador.empresa.razao}"/>
                <h:outputLabel value="Fantasia:"/>
                <p:inputTextarea required="true" requiredMessage="Campo [Fantasia] é Obrigatório!" style="width: 400px; text-transform: uppercase"
                                 value="#{EmpresaControlador.empresa.fantasia}"/>
                <h:outputLabel value="Endereço:"/>
                <p:inputTextarea required="true" requiredMessage="Campo [Endereço] é Obrigatório!" style="width: 400px; text-transform: uppercase"
                                 value="#{EmpresaControlador.empresa.endereco}"/>
                <h:outputLabel value="Responsável/Proprietário:"/>
                <p:inputTextarea required="true" requiredMessage="Campo [Responsável/Proprietário] é Obrigatório!" style="width: 400px; text-transform: uppercase"
                                 value="#{EmpresaControlador.empresa.responsavel}"/>
                <h:outputLabel value="Contatos" style="font-weight: bold"/>
                <h:outputText value=""/>
                <h:outputLabel value="comercial:"/>
                <p:inputMask mask="(99)9999-9999" required="true" requiredMessage="Campo [Contato-comercial] é Obrigatório!"
                             value="#{EmpresaControlador.empresa.contato}"/>
                <h:outputLabel value="Contrato:"/>
                <p:autoComplete value="#{EmpresaControlador.numContrato}" completeMethod="#{EmpresaControlador.completaNumContrato}">
                    <p:ajax event="blur" update="ot_data_contrato ot_vigencia_inicial ot_vigencia_final ot_assunto ol_artigo" listener="#{EmpresaControlador.retornaDadosContrato}"/>
                </p:autoComplete>
                <h:outputLabel value="Data Contrato:"/>
                <h:outputText id="ot_data_contrato" value="#{EmpresaControlador.data}" style="color: #2779AA;"/>
                
            </h:panelGrid>
            <h:panelGrid columns="4">
                <h:outputLabel value="Vigência:"/>
                <h:outputText id="ot_vigencia_inicial" value="#{EmpresaControlador.vigencia_data_inicial}" style="color: #2779AA;"/>
                <h:outputLabel id="ol_artigo" value="#{EmpresaControlador.artigo}"/>
                <h:outputText id="ot_vigencia_final" value="#{EmpresaControlador.vigencia_data_final}" style="color: #2779AA;"/>
            </h:panelGrid>
            <h:panelGrid columns="2">
                <h:outputLabel value="Assunto:"/>
                <h:outputText id="ot_assunto" value="#{EmpresaControlador.assuntoContrato}" style="color: #2779AA;"/>
            </h:panelGrid>
            <br/>
             <center>
                <h:panelGrid columns="2">
                    <p:commandButton id="btn_cad_empresa" value="Salvar" icon="ui-icon-plusthick"
                                     type="submit" oncomplete="dlg_cad_empresa.hide();" actionListener="#{EmpresaControlador.inserir}" 
                                     update=":growl_center :pnl_listContrato_Empresa"/>
                    <p:commandButton value="Limpar" type="reset" icon="ui-icon-cancel"/>
                </h:panelGrid>
            </center>
        </h:form>
    </p:dialog>
</html>

